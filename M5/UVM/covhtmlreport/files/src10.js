var g_data = {"name":"classes/coverage.sv","src":"/***************************************************************\r\n*  Coverage class for a UVM Based FIFO Verification\r\n* \r\n*\r\n*  Author: Alexander Maso\r\n***************************************************************/\r\n\r\nclass fifo_coverage extends uvm_subscriber #(fifo_transaction);\r\n    `uvm_component_utils(fifo_coverage) // Register the component with the factory\r\n\r\n    // Declare the handle for our transactions\r\n    fifo_transaction tx;\r\n\r\n    // real is a double precision floating-point variable\r\n    // For coverage numbers/printing (.get_coverage() returns a value of type real)\r\n\r\n    real cov_cg_fifo;\r\n    real cov_cg_fifo_depth;\r\n    real cov_cg_half_full_empty;\r\n    real cov_cg_data_integrity;\r\n    real cov_cg_data_patterns;\r\n    real cov_cg_burst_ops;\r\n    real cov_cg_reset;\r\n    real cov_cg_idle_cycles;\r\n    real cov_cg_high_freq;\r\n    real cov_cg_abrupt_change;\r\n    real cov_cg_throughput;\r\n\r\n\r\n    // Define covergroups\r\n    // Covergroup for basic FIFO signals\r\n    covergroup cg_fifo;\r\n	option.per_instance = 1;\r\n        coverpoint tx.wr_en {\r\n            bins wr_en = {1};\r\n            bins wr_den = {0};\r\n        }\r\n        coverpoint tx.rd_en {\r\n            bins rd_en = {1};\r\n            bins rd_den = {0};\r\n        }\r\n        coverpoint tx.full {\r\n            bins full_true = {1};\r\n            bins full_false = {0};\r\n        }\r\n        coverpoint tx.empty {\r\n            bins empty_true = {1};\r\n            bins empty_false = {0};\r\n        }\r\n        coverpoint tx.half {\r\n            bins half_full_true = {1};\r\n            bins half_full_false = {0};\r\n        }\r\n    endgroup\r\n\r\n    // Covergroup for depth levels of  FIFO\r\n/*\r\n    covergroup cg_fifo_depth;\r\n	option.per_instance = 1;\r\n        coverpoint tx.wptr {\r\n            bins low = {[0:7]};             // Low depth\r\n            bins mid = {[8:15]};            // Mid depth\r\n            bins high = {[16:23]};          // High depth\r\n            bins max = {[24:31]};           // Max depth\r\n        }\r\n        coverpoint tx.rptr {\r\n            bins low = {[0:7]};             // Low depth\r\n            bins mid = {[8:15]};            // Mid depth \r\n            bins high = {[16:23]};          // High depth \r\n            bins max = {[24:31]};           // Max depth \r\n        }\r\n    endgroup\r\n*/\r\n\r\n    // Covergroup for monitoring half full and empty states\r\n    covergroup cg_half_full_empty;\r\n	option.per_instance = 1;\r\n        coverpoint tx.half {\r\n            bins half_full_true = {1};\r\n            bins half_full_false = {0};\r\n        }\r\n    endgroup\r\n\r\n    // Covergroup for data integrity\r\n    covergroup cg_data_integrity;\r\n	option.per_instance = 1;\r\n        coverpoint tx.data_out {\r\n            bins data_low = {[0:63]};\r\n            bins data_mid = {[64:127]};\r\n            bins data_high = {[128:191]};\r\n            bins data_max = {[192:255]};\r\n        }\r\n    endgroup\r\n\r\n    // Covergroup for specific data patterns\r\n    covergroup cg_data_patterns;\r\n	option.per_instance = 1;\r\n        coverpoint tx.data_in {\r\n            bins pattern_zero = {8'h00};\r\n            bins pattern_all_ones = {8'hFF};\r\n            bins pattern_alt_ones = {8'h55, 8'hAA};\r\n        }\r\n        coverpoint tx.data_out {\r\n            bins pattern_zero = {8'h00};\r\n            bins pattern_all_ones = {8'hFF};\r\n            bins pattern_alt_ones = {8'h55, 8'hAA};\r\n        }\r\n    endgroup\r\n\r\n    // Covergroup for burst w/r ops\r\n    covergroup cg_burst_ops;\r\n	option.per_instance = 1;\r\n        coverpoint tx.wr_en {\r\n            bins burst_write = {1};\r\n        }\r\n        coverpoint tx.rd_en {\r\n            bins burst_read = {1};\r\n        }\r\n    endgroup\r\n\r\n/*\r\n    // Covergroup for RST \r\n    covergroup cg_reset;\r\n	option.per_instance = 1;\r\n        coverpoint tx.rst_n {\r\n            bins reset_active = {0};\r\n            bins reset_inactive = {1};\r\n        }\r\n    endgroup\r\n*/\r\n\r\n    // Covergroup for idle cycles\r\n    covergroup cg_idle_cycles;\r\n        coverpoint tx.wr_en iff (!tx.wr_en) {\r\n            bins wr_en_idle = {0};\r\n        }\r\n        coverpoint tx.rd_en iff (!tx.rd_en) {\r\n            bins rd_en_idle = {0};\r\n        }\r\n    endgroup\r\n/*\r\n    // Covergroup for high-freq ops\r\n    covergroup cg_high_freq;\r\n        coverpoint tx.clk_wr {\r\n            bins clk_wr_high = {1};\r\n        }\r\n        coverpoint tx.clk_rd {\r\n            bins clk_rd_high = {1};\r\n        }\r\n    endgroup\r\n*/\r\n    // Covergroup for capturing abrupt changes in r/w rates\r\n    covergroup cg_abrupt_change;\r\n	option.per_instance = 1;\r\n        coverpoint tx.wr_en {\r\n            bins wr_en_change = {1};\r\n            bins wr_en_stable = {0};\r\n        }\r\n        coverpoint tx.rd_en {\r\n            bins rd_en_change = {1};\r\n            bins rd_en_stable = {0};\r\n        }\r\n    endgroup\r\n\r\n    // Covergroup for capturing throughput under varied conditions\r\n    covergroup cg_throughput;\r\n	option.per_instance = 1;\r\n        coverpoint tx.wr_en {\r\n            bins wr_en_active = {1};\r\n            bins wr_en_inactive = {0};\r\n        }\r\n        coverpoint tx.rd_en {\r\n            bins rd_en_active = {1};\r\n            bins rd_en_inactive = {0};\r\n        }\r\n    endgroup\r\n\r\n    // Constructor\r\n    function new(string name = \"fifo_coverage\", uvm_component parent = null);\r\n        super.new(name, parent);\r\n        `uvm_info(get_type_name(), $sformatf(\"Constructing %s\", get_full_name()), UVM_DEBUG);\r\n    \r\n        tx = fifo_transaction::type_id::create(\"tx\");\r\n	cg_fifo = new();\r\n	//cg_fifo_depth = new();\r\n	cg_half_full_empty = new();\r\n	cg_data_integrity = new();\r\n	cg_data_patterns = new();\r\n	cg_burst_ops = new();\r\n	//cg_reset = new();\r\n	cg_idle_cycles = new();\r\n	//cg_high_freq = new();\r\n	cg_abrupt_change = new();\r\n	cg_throughput = new();\r\n    endfunction : new\r\n\r\n    virtual function void write(fifo_transaction t);\r\n        `uvm_info(get_type_name(), $sformatf(\"Writing to %s\", get_full_name()), UVM_DEBUG);\r\n        tx = t;\r\n        t.print();\r\n\r\n	cg_fifo.sample();\r\n	//cg_fifo_depth.sample();\r\n	cg_half_full_empty.sample();\r\n	cg_data_integrity.sample();\r\n	cg_data_patterns.sample();\r\n	cg_burst_ops.sample();\r\n	//cg_reset.sample();\r\n	cg_idle_cycles.sample();\r\n	//cg_high_freq.sample();\r\n	cg_abrupt_change.sample();\r\n	cg_throughput.sample();\r\n\r\n\r\n	cov_cg_fifo = cg_fifo.get_coverage();\r\n    	//cov_cg_fifo_depth = cg_fifo_depth.get_coverage();\r\n    	cov_cg_half_full_empty = cg_half_full_empty.get_coverage();\r\n    	cov_cg_data_integrity = cg_data_integrity.get_coverage();\r\n    	cov_cg_data_patterns = cg_data_patterns.get_coverage();\r\n    	cov_cg_burst_ops = cg_burst_ops.get_coverage();\r\n    	//cov_cg_reset = cg_reset.get_coverage();\r\n    	cov_cg_idle_cycles = cg_idle_cycles.get_coverage();\r\n    	//cov_cg_high_freq = cg_high_freq.get_coverage();\r\n    	cov_cg_abrupt_change = cg_abrupt_change.get_coverage();\r\n    	cov_cg_throughput = cg_throughput.get_coverage();\r\n\r\n/*\r\n        `uvm_info(get_type_name(), $sformatf(\"Coverage cg_fifo: %f\", cov_cg_fifo), UVM_NONE);\r\n	    //`uvm_info(get_type_name(), $sformatf(\"Coverage cg_fifo_depth: %f\", cov_cg_fifo_depth), UVM_NONE);\r\n	    `uvm_info(get_type_name(), $sformatf(\"Coverage cg_half_full_empty: %f\", cov_cg_half_full_empty), UVM_NONE);\r\n	    `uvm_info(get_type_name(), $sformatf(\"Coverage cg_data_integrity: %f\", cov_cg_data_integrity), UVM_NONE);\r\n	    `uvm_info(get_type_name(), $sformatf(\"Coverage cg_data_patterns: %f\", cov_cg_data_patterns), UVM_NONE);\r\n	    `uvm_info(get_type_name(), $sformatf(\"Coverage cg_burst_ops: %f\", cov_cg_burst_ops), UVM_NONE);\r\n	    //`uvm_info(get_type_name(), $sformatf(\"Coverage cg_reset: %f\", cov_cg_reset), UVM_NONE);\r\n	    `uvm_info(get_type_name(), $sformatf(\"Coverage cg_idle_cycles: %f\", cov_cg_idle_cycles), UVM_NONE);\r\n	    //`uvm_info(get_type_name(), $sformatf(\"Coverage cg_high_freq: %f\", cov_cg_high_freq), UVM_NONE);\r\n	    `uvm_info(get_type_name(), $sformatf(\"Coverage cg_abrupt_change: %f\", cov_cg_abrupt_change), UVM_NONE);\r\n	    `uvm_info(get_type_name(), $sformatf(\"Coverage cg_throughput: %f\", cov_cg_throughput), UVM_NONE);\r\n*/\r\n\r\n    endfunction : write\r\n\r\nendclass\r\n\r\n","lang":"verilog"};
processSrcData(g_data);